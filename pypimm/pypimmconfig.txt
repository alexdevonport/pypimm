[preprocess]
initial data skip = 0.0 ; nanoseconds of data to skip before finding peak
data fit length = 5.0   ; nanoseconds of data to use for fit
bandlimit = 12          ; bandwidth of Gaussian preprocess filter (GHz)
use global max = yes    ; Start fit at highest overall peak after skip, or the nearest one?

[fit-params]
signal fit r squared threshold = 0.875  ; Signal fits with r^2 below this value aren't used
                                        ; to fit Ms and Hk

# parameter list is as follows:
# fmr ampl, fmr frequency, fmr damping, interference ampl, interference damping, time delay

use grid-lsq = no
grid starts  = [-10.0, 0.5, 0.5, -10.0, 0.1, 0.0]
grid stops   = [10.0,  3.5, 5.0, 10.0,  1.0, 0.25]
grid lengths = [5,     10,  5,   5,     3,   3]

use shotgun-lsq = yes  # if you said yes to both, we'll use the better of the two guesses
shotgun-lsq spreads = 2.0, 0.8, 6, 0.8, 4, 0.3

[characterize]
hk field fit thresh = 20
